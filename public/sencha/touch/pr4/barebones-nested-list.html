<!doctype html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>PR4 - Barebones Nested List Example</title>
        
        <link rel="stylesheet" href="http://dev.sencha.com/deploy/sencha-touch-2-pr4/resources/css/sencha-touch.css">
        <script src="http://dev.sencha.com/deploy/sencha-touch-2-pr4/sencha-touch-all-debug.js" type="text/javascript"></script>

        <script type="text/javascript">

//define your data
var data = {
    text: 'Groceries',
    items: [{
        text: 'Drinks',
        items: [{
            text: 'Water',
            items: [{
                text: 'Sparkling',
                leaf: true
            }, {
                text: 'Still',
                leaf: true
            }]
        }, {
            text: 'Coffee',
            leaf: true
        }, {
            text: 'Espresso',
            leaf: true
        }, {
            text: 'Redbull',
            leaf: true
        }, {
            text: 'Coke',
            leaf: true
        }, {
            text: 'Diet Coke',
            leaf: true
        }]
    }, {
        text: 'Fruit',
        items: [{
            text: 'Bananas',
            leaf: true
        }, {
            text: 'Lemon',
            leaf: true
        }]
    }, {
        text: 'Snacks',
        items: [{
            text: 'Nuts',
            leaf: true
        }, {
            text: 'Pretzels',
            leaf: true
        }, {
            text: 'Wasabi Peas',
            leaf: true
        }]
    }]
};

//define your model
Ext.define('MyModel', {
    extend: 'Ext.data.Model',
    
    config: {
        fields: ['text']
    }
});

Ext.setup({
    onReady: function() {
        //create the treestore using the model above and your data
        var store = Ext.create('Ext.data.TreeStore', {
            model: 'MyModel',
            defaultRootProperty: 'items',
            root: data
        }); 

        //create a nested list component using the store above
        var nestedList = Ext.create('Ext.NestedList', {
            store: store,
            title: 'Nested List'
        });

        //create the navigation view and add it to the viewport. it only has 1 initial view and when you
        //press the button it will push the nestedList component
        var view = Ext.Viewport.add({
            xtype: 'navigationview',
            items: [
                {
                    items: [
                        {
                            xtype: 'button',
                            text: 'add nested list!',
                            scope: this,
                            handler: function() {
                                view.push(nestedList);
                            }
                        }
                    ]
                }
            ]
        })
    }
});

        </script>
    </head>
    
    <body></body>
</html>
